"use strict";
// © Sitecore Corporation A/S. All rights reserved. Sitecore® is a registered trademark of Sitecore Corporation A/S.
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCookieValueFromRequest = void 0;
const utils_1 = require("@sitecore-cloudsdk/utils");
const get_cookie_value_from_middleware_request_1 = require("./get-cookie-value-from-middleware-request");
/**
 * Retrieves the cookie value from the provided request object ('T'), using the specified 'cookieName'.
 *
 * @param request - The request object, either a Middleware Request or an HTTP Request.
 * @param cookieName - The name of the cookie to retrieve the cookie value from.
 * @returns The cookie value extracted from the cookie or an empty string if not found.
 */
function getCookieValueFromRequest(request, cookieName) {
    let cookieValue = undefined;
    if ((0, utils_1.isNextJsMiddlewareRequest)(request))
        cookieValue = (0, get_cookie_value_from_middleware_request_1.getCookieValueFromMiddlewareRequest)(request, cookieName);
    else if ((0, utils_1.isHttpRequest)(request)) {
        const cookieHeader = request.headers.cookie;
        cookieValue = (0, utils_1.getCookieServerSide)(cookieHeader, cookieName)?.value;
    }
    return cookieValue ?? '';
}
exports.getCookieValueFromRequest = getCookieValueFromRequest;
