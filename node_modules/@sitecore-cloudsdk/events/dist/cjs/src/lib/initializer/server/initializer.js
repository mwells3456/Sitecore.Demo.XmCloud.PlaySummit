"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.verifyEventsPackageExistence = exports.addEvents = exports.sideEffects = void 0;
// © Sitecore Corporation A/S. All rights reserved. Sitecore® is a registered trademark of Sitecore Corporation A/S.
const internal_1 = require("@sitecore-cloudsdk/core/internal");
const server_1 = require("@sitecore-cloudsdk/core/server");
const consts_1 = require("../../consts");
async function sideEffects() {
    (0, internal_1.debug)(consts_1.EVENTS_NAMESPACE)('eventsServer library initialized');
}
exports.sideEffects = sideEffects;
/**
 * Makes the functionality of the events package available.
 *
 * @returns An instance of {@link CloudSDKServerInitializer}
 */
function addEvents() {
    const eventsInitializer = new internal_1.PackageInitializerServer({ sideEffects });
    internal_1.enabledPackagesServer.set(consts_1.PACKAGE_NAME, eventsInitializer);
    return this;
}
exports.addEvents = addEvents;
server_1.CloudSDKServerInitializer.prototype.addEvents = addEvents;
function verifyEventsPackageExistence() {
    if (!(0, internal_1.getEnabledPackageServer)(consts_1.PACKAGE_NAME))
        throw Error(consts_1.ErrorMessages.IE_0015);
}
exports.verifyEventsPackageExistence = verifyEventsPackageExistence;
