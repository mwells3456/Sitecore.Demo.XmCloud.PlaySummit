"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addToEventQueue = void 0;
// © Sitecore Corporation A/S. All rights reserved. Sitecore® is a registered trademark of Sitecore Corporation A/S.
const internal_1 = require("@sitecore-cloudsdk/core/internal");
const utils_1 = require("@sitecore-cloudsdk/utils");
const initializer_1 = require("../initializer/browser/initializer");
const eventStorage_1 = require("./eventStorage");
/**
 * A function that adds event to the queue
 *
 * @param eventData - The required/optional attributes in order to be send to SitecoreCloud API
 */
async function addToEventQueue(eventData) {
    await (0, initializer_1.awaitInit)();
    const settings = (0, internal_1.getCloudSDKSettingsBrowser)();
    const id = (0, utils_1.getCookieValueClientSide)(settings.cookieSettings.name.browserId);
    const queueEventPayload = {
        eventData,
        id,
        settings
    };
    eventStorage_1.eventQueue.enqueueEvent(queueEventPayload);
}
exports.addToEventQueue = addToEventQueue;
